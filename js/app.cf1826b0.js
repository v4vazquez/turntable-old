(function(t){function e(e){for(var r,o,i=e[0],u=e[1],l=e[2],d=0,v=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);c&&c(e);while(v.length)v.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],r=!0,i=1;i<s.length;i++){var u=s[i];0!==n[u]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},n={app:0},a=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var c=u;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0091":function(t,e,s){t.exports=s.p+"img/landing-Page.8dc8639e.png"},"033f":function(t,e,s){"use strict";s("98d9")},"0348":function(t,e,s){t.exports=s.p+"img/turntableLogo-v2.1bd1096e.png"},"034b":function(t,e,s){},"08b9":function(t,e,s){},"199c":function(t,e){},"1b6b":function(t,e,s){},"23be":function(t,e,s){"use strict";var r=s("199c"),n=s.n(r);e["default"]=n.a},"2ff6":function(t,e,s){},3644:function(t,e,s){},"381a":function(t,e,s){"use strict";s("2ff6")},"383c":function(t,e,s){"use strict";s("1b6b")},"3c03":function(t,e,s){"use strict";s("5cce")},"3d14":function(t,e,s){},"3dfd":function(t,e,s){"use strict";var r=s("7cc2"),n=s("23be"),a=(s("c6b3"),s("2877")),o=Object(a["a"])(n["default"],r["a"],r["b"],!1,null,null,null);e["default"]=o.exports},"4bd3":function(t,e,s){"use strict";s("3644")},"522d":function(t,e,s){"use strict";s("d2df")},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("2b0e"),n=s("3dfd"),a=s("8c4f"),o=function(){var t=this;t._self._c;return t._m(0)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("h1",[t._v("Home")]),e("p",[t._v("You must be authenticated to see this")])])}],u={name:"home"},l=u,c=s("2877"),d=Object(c["a"])(l,o,i,!1,null,null,null),v=d.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"centered-images"},[e("div",{staticClass:"form-container"},[e("div",{staticClass:"text-center",attrs:{id:"login"}},[e("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please Sign In")]),t.invalidCredentials?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("Invalid username and password!")]):t._e(),this.$route.query.registration?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("Thank you for registering, please sign in.")]):t._e(),e("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),e("router-link",{attrs:{to:{name:"register"}}},[t._v("Need an account?")]),e("button",{attrs:{type:"submit"}},[t._v("Sign in")])],1)]),e("div",{staticClass:"event-signin"},[e("form",[e("label",{attrs:{for:"eventID"}},[t._v("Event number: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.idNumber,expression:"idNumber"}],attrs:{type:"number",id:"guestLogin",placeholder:"Your party ID"},domProps:{value:t.idNumber},on:{input:function(e){e.target.composing||(t.idNumber=e.target.value)}}}),e("button",{attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.goToPage.apply(null,arguments)}}},[t._v(" Go to event")])])])])])},m=[],g=s("bc3a"),h=s.n(g),f={login(t){return h.a.post("/login",t)},register(t){return h.a.post("/register",t)}},_={getEvent(t){return h.a.get("/events/"+t)},getAllEvents(){return h.a.get("/events/all-events")},createEvent(t,e){return h.a.post("/events/newEvent/"+e,t)},updateEvent(t,e){return h.a.put("/events/update-event/"+t,e)},deleteEvent(t){return h.a.delete("/events/delete-event/"+t)},getEventIdFromDj(){return h.a.get("events/eventId")},getDjs(){return h.a.get("users/djs")}},b={name:"login",components:{},data(){return{showLoader:!0,idNumber:"",user:{username:"",password:""},invalidCredentials:!1}},methods:{login(){f.login(this.user).then(t=>{200==t.status&&(this.$store.commit("SET_AUTH_TOKEN",t.data.token),this.$store.commit("SET_USER",t.data.user),"ROLE_DJ"===t.data.user.role?this.$router.push("/djEvents"):"ROLE_HOST"===t.data.user.role&&this.$router.push("/hostEvents"))}).catch(t=>{const e=t.response;401===e.status&&(this.invalidCredentials=!0)})},goToPage(){_.getEvent(this.idNumber).then(t=>{200===t.status&&0!==t.data.length&&this.$router.push({path:"/events/"+this.idNumber})})}}},y=b,E=(s("9cb7"),Object(c["a"])(y,p,m,!1,null,null,null)),w=E.exports,S=function(){var t=this,e=t._self._c;return e("loader-layout",[e("h1",[t._v("See Ya Wouldn't Wanna Be Ya")])])},C=[],k=function(){var t=this,e=t._self._c;return e("div",[e("header"),e("main",[!1===t.showLoader?t._t("default"):t._e(),!0===t.showLoader?e("loading-gif"):t._e()],2),e("footer",[e("div",{staticClass:"logout-link"},[""!=t.$store.state.token?e("router-link",{attrs:{to:{name:"logout"}}},[t._v(" Logout ")]):t._e()],1)])])},P=[],x=function(){var t=this,e=t._self._c;return t.isLoading?e("div",{staticClass:"loading"},[t._m(0)]):t._e()},I=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"spinner1"})])}],N={data(){return{isLoading:!0}}},$=N,O=(s("9dd0"),Object(c["a"])($,x,I,!1,null,null,null)),T=O.exports,j={components:{LoadingGif:T},data(){return{showLoader:!0}},mounted:function(){window.setTimeout(()=>{this.showLoader=!1},1e3)}},D=j,L=(s("383c"),Object(c["a"])(D,k,P,!1,null,null,null)),A=L.exports,U={components:{LoaderLayout:A},created(){this.$store.commit("LOGOUT"),this.$router.push("/login")}},q=U,J=Object(c["a"])(q,S,C,!1,null,null,null),H=J.exports,R=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",{staticClass:"container"},[e("div",{staticClass:"text-center",attrs:{id:"register"}},[e("div",{staticClass:"about-section"},[e("div",{staticClass:"about-text"},[e("h2",[t._v("About")]),e("p",[t._v(" Turntable allows users to attend parties through a code provided by the party host. It gives guests the ability to recommend songs for a shared playlist and vote on the existing ones. The designated DJ will then connect and incorporate those chosen songs into the party playlist. Whether you're in the mood for some classic hits or the latest chart-topping tracks, Turntable is the perfect platform for music lovers to come together and make the party come alive. ")])])]),e("form",{staticClass:"form-register",on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Create Account")]),t.registrationErrors?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.registrationErrorMsg)+" ")]):t._e(),e("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",id:"confirmPassword",placeholder:"Confirm Password",required:""},domProps:{value:t.user.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.user,"confirmPassword",e.target.value)}}}),e("router-link",{attrs:{to:{name:"login"}}},[t._v("Have an account?")]),e("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v(" Create Account ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role,expression:"user.role"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"role",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select an Option")]),e("option",{attrs:{value:"DJ"}},[t._v("DJ")]),e("option",{attrs:{value:"Host"}},[t._v("Host")])])],1)])])])},M=[],W={components:{LoaderLayout:A},name:"register",data(){return{user:{username:"",password:"",confirmPassword:"",role:""},registrationErrors:!1,registrationErrorMsg:"There were problems registering this user."}},methods:{register(){this.user.password!=this.user.confirmPassword?(this.registrationErrors=!0,this.registrationErrorMsg="Password & Confirm Password do not match."):f.register(this.user).then(t=>{201==t.status&&this.$router.push({path:"/login",query:{registration:"success"}})}).catch(t=>{const e=t.response;this.registrationErrors=!0,400===e.status&&(this.registrationErrorMsg="Bad Request: Validation Errors")})},clearErrors(){this.registrationErrors=!1,this.registrationErrorMsg="There were problems registering this user."}}},B=W,G=(s("381a"),Object(c["a"])(B,R,M,!1,null,"425e5e5b",null)),K=G.exports,Q=s("2f62");r["a"].use(Q["a"]);const F=localStorage.getItem("token"),Y=JSON.parse(localStorage.getItem("user"));null!=F&&(h.a.defaults.headers.common["Authorization"]="Bearer "+F);var z=new Q["a"].Store({state:{events:[],token:F||"",user:Y||{},currentTrack:"",songSearchResult:{}},mutations:{SET_AUTH_TOKEN(t,e){t.token=e,localStorage.setItem("token",e),h.a.defaults.headers.common["Authorization"]="Bearer "+e},SET_USER(t,e){t.user=e,localStorage.setItem("user",JSON.stringify(e))},LOGOUT(t){localStorage.removeItem("token"),localStorage.removeItem("user"),t.token="",t.user={},h.a.defaults.headers.common={}},CHANGE_TRACK(t,e){t.currentTrack=e}}}),V=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",{staticClass:"container"},[e("div",{staticClass:"playlist"},[e("ul",t._l(t.songs,(function(s){return e("li",{key:s.id},[e("img",{staticClass:"albumImage",attrs:{src:s.picture,alt:"album cover"}}),e("div",{staticClass:"song-details"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artist))])])])})),0)]),e("div",{staticClass:"song-search"},[e("div",[e("h2",[t._v(" "+t._s(t.currentEventName)+" ")]),e("h3",[t._v(t._s(t.currentEventDescription))])]),e("div",{staticClass:"search-full-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("button",{on:{click:t.searchSong}},[t._v("Search")]),t.showControls?e("div",{staticClass:"dont-show"},[e("p",[t._v("Song Name: "+t._s(t.name))]),e("p",[t._v("Song Artist: "+t._s(t.artist))]),e("img",{attrs:{src:t.picture,alt:"Song picture",id:"searchImage"}}),e("button",{on:{click:t.addSong}},[t._v("Add Song")])]):t._e()])]),e("div",{staticClass:"suggested"},[e("ul",t._l(t.suggestedSongs,(function(s){return e("li",{key:s.id},[e("img",{staticClass:"albumImage",attrs:{src:s.picture,alt:"album cover"}}),e("div",{staticClass:"song-details"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artist))])]),e("p",[t._v("Likes: "+t._s(s.likes))]),e("button",{on:{click:function(e){return t.addLike(s.songId)}}},[t._v("Like")])])})),0)])])])},X=[],Z={getPlaylist(t){return h.a.get("songs/playlist/"+t)},getSuggested(t){return h.a.get("songs/suggested/"+t)},addSongToSuggested(t,e){return h.a.post("songs/addsong/suggested/"+e,t)},addSongToPlaylist(t,e){return h.a.put(`songs/addsong/${t}/${e}`)},deleteSuggestedSong(t,e){return h.a.delete(`songs/deleteSong/suggested/${t}/${e}`)},deletePlaylistSong(t,e){return h.a.delete(`songs/deleteSong/playlist/${t}/${e}`)},searchSong(t){return h.a.get("spotify-search/"+t)},incrementLikes(t,e){return h.a.put(`songs/likes/${t}/${e}/increment`)},getLikes(t,e){return h.a.get(`songs/likes/${t}/${e}`)}},tt={computed:{showControls(){return""!=this.songId}},components:{LoaderLayout:A},data(){return{songs:[],suggestedSongs:[],currentEventId:-1,searchQuery:"",songId:"",name:"",artist:"",picture:"",currentEventName:"",currentEventDescription:""}},methods:{getPlaylist(){Z.getPlaylist(this.$route.params.id).then(t=>{this.songs=t.data})},getSuggested(){Z.getSuggested(this.$route.params.id).then(t=>{this.suggestedSongs=t.data})},searchSong(){Z.searchSong(this.searchQuery).then(t=>{this.songId=t.data.songId,this.name=t.data.name,this.artist=t.data.artist,this.picture=t.data.picture})},addSong(){const t=this.$route.params.id,e={songId:this.songId,name:this.name,artist:this.artist,picture:this.picture};Z.addSongToSuggested(e,t).then(()=>{}),this.getSuggested(),this.getPlaylist()},addLike(t){Z.incrementLikes(this.$route.params.id,t),this.getSuggested(),this.getPlaylist()}},created(){this.getPlaylist(),this.getSuggested(),_.getEvent(this.$route.params.id).then(t=>{this.currentEventName=t.data.eventName,this.currentEventDescription=t.data.description}),this.interval=setInterval(()=>{this.getPlaylist(),this.getSuggested()},500)}},et=tt,st=(s("cfc1"),Object(c["a"])(et,V,X,!1,null,"26656522",null)),rt=st.exports,nt=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",{staticClass:"container"},[e("div",{staticClass:"user-avatar"},[e("p",[t._v("Bring on the beats, "+t._s(t.appUser.username)+"!")])]),e("playlist-component",{staticClass:"left"}),e("spotify-embed",{staticClass:"middle"}),e("suggested-component",{staticClass:"right"})],1)])},at=[],ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dj-selects"},[e("ul",t._l(t.songs,(function(s){return e("li",{key:s.id,staticClass:"song-list"},[e("img",{staticClass:"albumImage",attrs:{src:s.picture,alt:"album cover"}}),e("div",{staticClass:"song-details"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artist))])]),e("button",{on:{click:function(e){return t.playSong(s.songId)}}},[t._v("Select")]),e("button",{on:{click:function(e){return t.deleteSong(s.songId)}}},[t._v("Delete")])])})),0)])},it=[],ut={data(){return{songs:[],currentEventId:-1}},methods:{playSong(t){this.$store.commit("CHANGE_TRACK",t)},deleteSong(t){Z.deletePlaylistSong(this.currentEventId,t),this.getPlaylist()},getPlaylist(){_.getEventIdFromDj().then(t=>{this.currentEventId=t.data,Z.getPlaylist(this.currentEventId).then(t=>{this.songs=t.data}).catch(t=>{console.error(t)})})}},created(){this.getPlaylist(),this.interval=setInterval(()=>{this.getPlaylist()},500)}},lt=ut,ct=(s("3c03"),Object(c["a"])(lt,ot,it,!1,null,"2ef7d794",null)),dt=ct.exports,vt=function(){var t=this,e=t._self._c;return e("div",[e("iframe",{staticClass:"spot",staticStyle:{"border-radius":"50px"},attrs:{src:t.trackUrl,width:"100%",height:"352",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in- picture",loading:"lazy"}})])},pt=[],mt={data(){return{trackUri:"4cOdK2wGLETKBW3PvgPWqT"}},computed:{trackUrl(){return`https://open.spotify.com/embed/track/${this.$store.state.currentTrack}?utm_source=generator&theme=0`}}},gt=mt,ht=Object(c["a"])(gt,vt,pt,!1,null,null,null),ft=ht.exports,_t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"guest-suggestions"},[e("ul",t._l(t.songs,(function(s){return e("li",{key:s.id},[e("img",{staticClass:"albumImage",attrs:{src:s.picture,alt:"album cover"}}),e("div",{staticClass:"song-details"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artist))])]),e("p",[t._v("Likes "+t._s(s.likes))]),e("button",{on:{click:function(e){return t.addSongToPlaylist(s.songId)}}},[t._v("Add Song")]),e("button",{on:{click:function(e){return t.deleteSong(s.songId)}}},[t._v("Delete")])])})),0)])},bt=[],yt={data(){return{songs:[],currentEventId:-1}},created(){this.getSuggested()},methods:{addSongToPlaylist(t){Z.addSongToPlaylist(this.currentEventId,t).then(t=>{200==t.status&&this.getSuggested()})},deleteSong(t){Z.deleteSuggestedSong(this.currentEventId,t),this.getSuggested()},getSuggested(){_.getEventIdFromDj().then(t=>{this.currentEventId=t.data,Z.getSuggested(this.currentEventId).then(t=>{this.songs=t.data}).catch(t=>{console.error(t)})})}}},Et=yt,wt=(s("aea5"),Object(c["a"])(Et,_t,bt,!1,null,"4115c466",null)),St=wt.exports,Ct={data(){return{eventId:-1,appUser:""}},components:{PlaylistComponent:dt,SpotifyEmbed:ft,SuggestedComponent:St},created(){_.getEventIdFromDj().then(t=>this.eventId=t.data)},mounted:function(){const t=JSON.parse(window.localStorage.getItem("user"));this.appUser=t}},kt=Ct,Pt=(s("033f"),Object(c["a"])(kt,nt,at,!1,null,null,null)),xt=Pt.exports,It=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",[e("form",{staticClass:"edit-event-form"},[e("h3",[t._v(" Edit Event")]),e("label",{attrs:{for:"eventTitle"}},[t._v(" Event title: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.event.eventName,expression:"event.eventName"}],attrs:{type:"text",id:"eventTitle"},domProps:{value:t.event.eventName},on:{input:function(e){e.target.composing||t.$set(t.event,"eventName",e.target.value)}}}),e("label",{attrs:{for:"eventDescription"}},[t._v("Event Description:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.event.description,expression:"event.description"}],attrs:{id:"eventDescription"},domProps:{value:t.event.description},on:{input:function(e){e.target.composing||t.$set(t.event,"description",e.target.value)}}}),e("div",{staticClass:"buttons"},[e("button",{on:{click:function(e){return e.preventDefault(),t.saveEvent.apply(null,arguments)}}},[t._v("Save")])])])])])},Nt=[],$t={components:{LoaderLayout:A},data(){return{event:{description:"",eventName:""},eventNumber:-1}},methods:{saveEvent(){_.updateEvent(this.eventNumber,this.event).then(t=>{200===t.status&&this.$router.push({name:"hostEvents"})})}},created(){this.eventNumber=this.$route.params.id}},Ot=$t,Tt=(s("bed4"),Object(c["a"])(Ot,It,Nt,!1,null,null,null)),jt=Tt.exports,Dt=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",[e("div",{staticClass:"user-avatar"},[e("div",{staticClass:"user-avatar-image"}),e("p",[t._v(" Welcome to the party, "+t._s(t.appUser.username)+"!")])]),e("form",{staticClass:"edit-event-form"},[e("h3",[t._v(" Lets make a party!")]),e("label",{attrs:{for:"eventTitle"}},[t._v(" The name of your party: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.event.eventName,expression:"event.eventName"}],attrs:{type:"text",placeholder:"Ex: Spongebob Rave Playlist"},domProps:{value:t.event.eventName},on:{input:function(e){e.target.composing||t.$set(t.event,"eventName",e.target.value)}}}),e("label",{attrs:{for:"eventDescription"}},[t._v("Event Description:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.event.description,expression:"event.description"}],attrs:{placeholder:"What is your party about?"},domProps:{value:t.event.description},on:{input:function(e){e.target.composing||t.$set(t.event,"description",e.target.value)}}}),e("label",{attrs:{for:"eventDropdown"}},[t._v("Select a Dj:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDJ,expression:"selectedDJ"}],attrs:{id:"dropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDJ=e.target.multiple?s:s[0]}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Select a DJ")]),t._l(t.djs,(function(s){return e("option",{key:s,domProps:{value:s.id}},[t._v(t._s(s.username))])}))],2),e("br"),e("button",{attrs:{id:"button"},on:{click:function(e){return e.preventDefault(),t.saveEvent.apply(null,arguments)}}},[t._v("Save")])]),e("div")])])},Lt=[],At={components:{},data(){return{event:{description:"",eventName:""},selectedDJ:-1,djs:[],appUser:""}},created(){_.getDjs().then(t=>{this.djs=t.data})},mounted:function(){const t=JSON.parse(window.localStorage.getItem("user"));this.appUser=t},methods:{saveEvent(){_.createEvent(this.event,this.selectedDJ).then(t=>{201==t.status&&this.$router.push("/hostEvents")}).catch(t=>{console.error("error saving event",t),this.error="An error occurred while saving the event"})},clearForm(){this.eventTitle="",this.eventDescription=""}}},Ut=At,qt=(s("4bd3"),Object(c["a"])(Ut,Dt,Lt,!1,null,null,null)),Jt=qt.exports,Ht=function(){var t=this,e=t._self._c;return e("host-events-component")},Rt=[],Mt=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",[e("div",{staticClass:"user-avatar"},[e("div",{staticClass:"user-avatar-image"}),e("p",[t._v("Welcome to the party, "+t._s(t.appUser.username)+"!")])]),e("div",{staticClass:"upcoming-events"},t._l(t.events,(function(s){return e("ul",{key:s.id},[e("div",{staticClass:"eventDiv"},[e("li",{staticClass:"event-items-list"},[t._v(t._s(s.eventName))]),e("button",{staticClass:"add-edit",on:{click:function(e){return e.preventDefault(),t.editEvent(s.eventId)}}},[t._v("edit")]),e("button",{staticClass:"add-edit",on:{click:function(e){return e.preventDefault(),t.removeEvent(s.eventId)}}},[t._v(" delete ")])])])})),0),e("div",{staticClass:"add-party"},[e("button",{attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.addEvent.apply(null,arguments)}}},[t._v(" Add a party! ")])])])])},Wt=[],Bt={components:{LoaderLayout:A},name:"host-events-component",data(){return{events:[],appUser:""}},created(){this.populateEvents(),this.isLoading=!1},mounted:function(){const t=JSON.parse(window.localStorage.getItem("user"));this.appUser=t},methods:{editEvent(t){this.$router.push({name:"editEvent",params:{id:t}})},addEvent(){this.$router.push({name:"addEvent"})},removeEvent(t){_.deleteEvent(t).then(t=>{200===t.status&&this.populateEvents()}).catch(t=>{404===t.response.status?this.$router.push("/404"):console.error(t)})},populateEvents(){_.getAllEvents().then(t=>{this.events=t.data})}}},Gt=Bt,Kt=(s("522d"),Object(c["a"])(Gt,Mt,Wt,!1,null,"e6f00264",null)),Qt=Kt.exports,Ft={name:"hostEvents",components:{HostEventsComponent:Qt}},Yt=Ft,zt=Object(c["a"])(Yt,Ht,Rt,!1,null,"3ef2ef1b",null),Vt=zt.exports;r["a"].use(a["a"]);const Xt=new a["a"]({mode:"history",base:"",routes:[{path:"/",name:"home",component:v,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:w,meta:{requiresAuth:!1}},{path:"/logout",name:"logout",component:H,meta:{requiresAuth:!1}},{path:"/register",name:"register",component:K,meta:{requiresAuth:!1}},{path:"/hostEvents",name:"hostEvents",component:Vt,meta:{requiresAuth:!1}},{path:"/events/:id",name:"party",component:rt,meta:{requiresAuth:!1}},{path:"/events/editEvent/:id",name:"editEvent",component:jt,meta:{requiresAuth:!1}},{path:"/djEvents",name:"djEvents",component:xt,meta:{requiresAuth:!0}},{path:"/addEvent",name:"addEvent",component:Jt}]});Xt.beforeEach((t,e,s)=>{const r=t.matched.some(t=>t.meta.requiresAuth);r&&""===z.state.token?s("/login"):s()});var Zt=Xt;s("034b"),r["a"].config.productionTip=!1,h.a.defaults.baseURL="https://capstone-db-app.dev",new r["a"]({router:Zt,store:z,render:t=>t(n["default"])}).$mount("#app")},"5cce":function(t,e,s){},"7cc2":function(t,e,s){"use strict";s.d(e,"a",(function(){return r})),s.d(e,"b",(function(){return n}));var r=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{style:`background-image:url(${s("0091")})`,attrs:{id:"everything"}},[e("div",{attrs:{id:"app"}},[e("div",{staticClass:"logo",attrs:{id:"nav"}},[e("router-link",{attrs:{to:{name:"login"}}},[e("img",{staticClass:"turntable-logo",attrs:{src:s("0348"),alt:"turntable logo"}})])],1),e("router-view")],1)])},n=[]},"98d9":function(t,e,s){},"9cb7":function(t,e,s){"use strict";s("d540")},"9dd0":function(t,e,s){"use strict";s("3d14")},a2cc:function(t,e,s){},aea5:function(t,e,s){"use strict";s("ba4d")},ba4d:function(t,e,s){},bed4:function(t,e,s){"use strict";s("fed2")},c6b3:function(t,e,s){"use strict";s("08b9")},cfc1:function(t,e,s){"use strict";s("a2cc")},d2df:function(t,e,s){},d540:function(t,e,s){},fed2:function(t,e,s){}});
//# sourceMappingURL=app.cf1826b0.js.map